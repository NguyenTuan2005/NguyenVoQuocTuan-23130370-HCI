document.addEventListener('DOMContentLoaded', function() {
    const courseForm = document.getElementById('courseForm');
    const courseId = document.getElementById('courseId');
    const createdAt = document.getElementById('createdAt');
    const updatedAt = document.getElementById('updatedAt');

    // Simulating dynamic ID and timestamp generation for demonstration
    function generateCourseId() {
        return 'COURSE-' + Math.floor(Math.random() * 10000);
    }

    function getCurrentTimestamp() {
        const now = new Date();
        return now.toISOString().slice(0, 19).replace('T', ' ');
    }

    // Populate auto-generated fields when the form is loaded
    function populateAutoGeneratedFields() {
        if (!courseId.value) {
            courseId.value = generateCourseId();  // Generate and display course ID
        }
        if (!createdAt.value) {
            createdAt.value = getCurrentTimestamp();  // Set creation timestamp
        }
        updatedAt.value = getCurrentTimestamp();  // Set the last updated timestamp
    }

    // Form submission handler
    courseForm.addEventListener('submit', function(event) {
        event.preventDefault();

        // Basic validation (course name required)
        const courseName = document.getElementById('courseName').value;
        if (!courseName) {
            alert('Course name is required');
            return;
        }

        // Update the "Last Updated" timestamp
        updatedAt.value = getCurrentTimestamp();

        alert('Course Created/Updated Successfully!');
    });

    // Pre-populate the form with auto-generated fields on load
    populateAutoGeneratedFields();
});
